<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Online Examination System</title>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>

    <link href="css/dashboard-sidebar.css" rel="stylesheet">

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css" integrity="sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r" crossorigin="anonymous">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">

    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.0/angular.min.js"></script>


</head>


<body ng-app="myApp" ng-controller="myCtrl">
    <% include sidebar/dashboard-admin-sidaber %>




        <div class="container" style="margin-left:60px; margin-top:80px; margin-right:50px;">

            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th>Question</th>

                        <th>option1 </th>
                        <th>option2 </th>
                        <th>option3 </th>
                        <th>option4 </th>

                    </tr>
                </thead>
                <tbody id="showall_Tbody_id">
                    <tr ng-repeat="question in allquestion">

                        <td> {{ question.question }} </td>
                        <td> {{ question.option1 }} </td>
                        <td> {{ question.option2 }} </td>
                        <td> {{ question.option3 }} </td>
                        <td> {{ question.option4 }} </td>
                        <td>
                            <button ng-click="deleteques(question._id)" type="button" class="btn btn-danger"> Delete </button>
                        </td>

                    </tr>
                </tbody>
            </table>

        </div>
        <script>
            var app = angular.module('myApp', []);

            app.controller('myCtrl', function($scope, $http) {

                $http.get("/getallquestion")
                    .then(function(response) {
                        $scope.allquestion = response.data;
                        console.log(response.data);
                    });


                $scope.deleteques = function(_id) {
                    console.log(_id);

                    $http({
                            url: '/removequestion',
                            method: "POST",
                            data: {
                                '_id': _id
                            }
                        })
                        .then(function(response) {
                                console.log(response.data);
                            },
                            function(response) { // optional
                                // failed
                            });




                };


            });

        </script>


</body>

</html>
